<!doctype html>
<html class="w-full antialiased" lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bonfire</title>
    <meta name="description" content="A federated social network for individuals and communities to design, operate and control their own digital lives.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">


    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">

    <!-- OpenGraph meta tags for social sharing -->
    <meta property="og:title" content="Bonfire">
    <meta property="og:description" content="A federated social network for individuals and communities to design, operate and control their own digital lives.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://bonfirenetworks.org//extension/bonfire_api_graphql/">
    
    <!-- Twitter card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Bonfire">
    <meta name="twitter:description" content="A federated social network for individuals and communities to design, operate and control their own digital lives.">
    
    
    <link
    rel="stylesheet" href="/css/style_v2.css?v2">
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/focus@3.x.x/dist/cdn.min.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Bonfire">
    <script src="//unpkg.com/alpinejs" defer></script>
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
  </head>
  <body data-theme="bonfire" class="body-theme w-full bg-base-100 antialiased">
    <div
      class="sticky bg-base-100 top-0 z-[999999999999999999] transition duration-500 ease-in-out"
      x-data="{open: false, atTop: false}" 
    >
    

    <div class="max-w-screen-lg mx-auto">
      <header class="relative z-30 lg:px-0 mx-auto navbar">
        <div class="navbar-start w-[30%]">
          <div class="flex  items-center flex-shrink-0">
            <a href="/" class="flex items-center space-x-4">
              <span class="block bg-center bg-no-repeat bg-cover" style="width: 30px; height: 40px; background-image: url(/img/bonfire.png)"></span>  
              <span class="flex items-center"><span class="text-base font-black tracking-wider text-base-content">Bonfire</span> 
              
              </span>
            </a>
          </div>
           
        



        </div>
        
        <div class="navbar-end w-[70%]">

            <div class="hidden xl:flex w-full justify-end mr-3">
          <ul class="flex-row  p-0 font-medium menu font-bold menu-horizontal">
            <li>
              <a href="/about" role="button" tabindex="0" class="flex font-semiboltext-[15px] items-center gap-2 ">
                <span>About</span>
              </a>
            </li>
            <li class="dropdown">
                <div tabindex="0" class="flex    font-semiboltext-[15px] items-center gap-2">
                  <span>Ecosystem</span>
                  <svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"/></svg>
                </div>
              
              <ul tabindex="0" class="dropdown-content min-w-[280px] border border-base-content/20 !ml-0 menu mt-2 p-1 bg-base-100 rounded-lg">
                <li>
                  <a href="/apps" class="flex flex-col rounded-lg flex-wrap items-start">
                      <div class="font-bold">Apps</div>
                      <div class="font-light -mt-1.5  text-sm    font-light">Apps built with Bonfire</div>
                  </a>
                </li>
                <li>
                  <a href="/extensions" class="flex flex-col rounded-lg flex-wrap items-start" >
                      <div class="font-bold">Extensions</div>
                      <div class="font-light -mt-1.5  text-sm    font-light">Explore available extensions</div>
                  </a>
                </li>
                <li>
                  <a href="/hosting" class="flex flex-col rounded-lg flex-wrap items-start" >
                      <div class="font-bold">Hosting</div>
                      <div class="font-light -mt-1.5  text-sm    font-light">How to host Bonfire</div>
                  </a>
                </li>
                
                  
                <li>
                  <a class="flex flex-col rounded-lg flex-wrap items-start" href="/community">
                      <div class="font-bold">How to participate</div>
                      <div class="font-light -mt-1.5  text-sm    font-light">Contribute to Bonfire</div>
                  </a>
                </li>
              </ul>
            </li>
            <li class="dropdown">
                <div tabindex="0" class="flex    font-semiboltext-[15px] items-center gap-2">
                  <span>Learn</span>
                  <svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"/></svg>
                </div>
              <ul tabindex="0" class="dropdown-content min-w-[280px] border border-base-content/30 !ml-0 menu mt-2 p-1 bg-base-300 rounded-lg ">
                <li>
                  <a class="flex flex-col rounded-lg flex-wrap items-start" href="https://doc.bonfirenetworks.org">
                      <div class="font-semibold">Documentation</div>
                      <div class="font-light text-sm    -mt-1.5">Dive into using or building on Bonfire</div>
                  </a>
                </li>
                 <li>
                  <a class="flex flex-col rounded-lg flex-wrap items-start" href="/design">
                      <div class="font-semibold">Design</div>
                      <div class="font-light text-sm    -mt-1.5">Think with Bonfire to create better digital spaces</div>
                  </a>
                </li>
                <li>
                  <a class="flex rounded-lg flex-col flex-wrap items-start" href="/community">
                      <div class="font-semibold">Community</div>
                      <div class="font-light text-sm    -mt-1.5">How to participate in the ecosystem</div>
                  </a>
                </li>
                <li>
                  <a class="flex rounded-lg flex-col flex-wrap items-start" href="/faq">
                    <div class="font-semibold">FAQ</div>
                    <div class="text-sm -mt-1.5 font-light   ">Frequently asked questions</div>
                  </a>
                </li>
                
                
                <li> 
                  <a class="flex flex-col rounded-lg flex-wrap items-start" href="https://github.com/bonfire-networks/bonfire-app" target="_blank">
                    <div class="font-semibold">Get the code</div>
                    <div class="font-light text-sm    -mt-1.5">Bonfire is open source and AGPL3 licensed</div>
                  </a>
                </li>
              </ul>
            </li>
            
            <li>
            <a href="/mosaic" class="font-semibold  text-[15px]  ">
              <span class="">Mosaic</span>
            </a>
            </li>

            <li>
            <a href="/blog" class="font-semibold  text-[15px]  ">
              <span class="">News</span>
            </a>
            </li>
          </ul>
        </div>

           
          <a href="/start/" >
            <span class="btn-sm w-[120px] hidden font-bold normal-case btn btn-primary xl:flex">Get Bonfire</span>
          </a>

          <label for="theme_controller" class="swap swap-rotate mx-3">
  
              <!-- this hidden checkbox controls the state -->
              <input id="theme_controller" type="checkbox" class="theme-controller" value="bonfire" />
              
              <!-- sun icon -->
              <svg class="swap-on fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"/></svg>
              
              <!-- moon icon -->
              <svg class="swap-off fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"/></svg>
            </label>
          <div class="inset-y-0 right-0 flex gap-3 items-center xl:hidden">
            <a href="/start/" >
              <span class="normal-case rounded-full btn btn-sm btn-primary">Get started</span>
            </a>
              <span class="sr-only">Open main menu</span>
              <label class="btn btn-circle btn-ghost swap swap-rotate">
  
              <!-- this hidden checkbox controls the state -->
              <input type="checkbox" />
              
              <!-- hamburger icon -->
              <svg @click="open = !open" class="swap-off fill-current" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"/></svg>
              
              <!-- close icon -->
              <svg @click="open = !open" class="swap-on fill-current" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><polygon points="400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49"/></svg>
              
            </label>
          </div>

        </div>
      

    
      </header>
    </div>
    <div 
      x-description="Mobile menu, show/hide based on menu state." 
      class="xl:hidden" 
      id="mobile-menu" 
      x-show="open" 
      style="display: none;">
      <ul class="p-0 menu bg-base-300">
          <li>
            <a href="/about" class=" ">
            <span class="text-base font-regular">About</span>
          </a>
          </li>

            <li>
            <a href="/apps" class=" ">
            <span class="text-base font-regular">Apps</span>
          </a>
          </li>

          <li>
            <a href="/extensions" class=" ">
            <span class="text-base font-regular">Extensions</span>
          </a>
          </li>

          


            <li>
            <a href="/docs" class=" ">
            <span class="text-base font-regular">Documentation</span>
          </a>
          </li>

          
          
          
          
          <li>
            <a href="/faq" class=" ">
            <span class="text-base font-regular">FAQs</span>
          </a>
          </li>
          <li>
          <a href="/blog" class=" ">
            <span class="text-base font-regular">News</span>
          </a>
          </li>
          <li>
            <a href="/community" class=" ">
              <span class="text-base font-regular">Community</span>
            </a>
          </li>

          <li>
            <a href="https://github.com/bonfire-networks/bonfire-app" class="">
              <span class="text-base font-regular">Get the code</span>
            </a>
          </li>
          
      </ul>
    </div>
  </div>

 <script>
    document.addEventListener('DOMContentLoaded', (event) => {
    const themeController = document.querySelector('.theme-controller');
    const bodyElement = document.body;

    // Load the saved theme from localStorage
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
        themeController.checked = savedTheme === 'bonfire';
        bodyElement.setAttribute('data-theme', savedTheme);
    }

    // Save the theme to localStorage whenever it changes
    themeController.addEventListener('change', (event) => {
        const theme = event.target.checked ? 'bonfire' : 'light';
        localStorage.setItem('theme', theme);
        bodyElement.setAttribute('data-theme', theme);
    });
});
</script>
    


<div class="bg-base-300">
  <div class="max-w-screen-lg py-12 px-4 lg:px-0  lg:mx-auto">
    <div class="text-sm breadcrumbs">
      <ul>
        <li><a href="/extensions">Extensions</a></li> 
        
      </ul>
    </div>
    <h1 class="text-3xl font-bold text-base-content  ">bonfire_api_graphql</h1>
    <p class="text-blueGray-300 w-full prose prose-md max-w-prose mt-2">Boilerplate for including a GraphQL API to an app</p>
    <div class="relative inline-block mt-6">
      
    <input value="just dep-clone-local bonfire_api_graphql https://github.com/bonfire-networks/bonfire_api_graphql" class="input w-[420px] input-bordered text-sm" />
    <span class="absolute right-[8px] top-[8px] btn btn-sm btn-square">
        <svg class="w-5 h-5 text-base-content/70" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M7 9.667A2.667 2.667 0 0 1 9.667 7h8.666A2.667 2.667 0 0 1 21 9.667v8.666A2.667 2.667 0 0 1 18.333 21H9.667A2.667 2.667 0 0 1 7 18.333z"/><path d="M4.012 16.737A2.005 2.005 0 0 1 3 15V5c0-1.1.9-2 2-2h10c.75 0 1.158.385 1.5 1"/></g></svg>
      </span>
    </div>
    

  </div>
</div>
<div class="my-12 max-w-screen-lg mx-auto grid grid-cols-12 gap-8 px-4 lg:px-0">

  <div class="lg:col-span-8 order-last lg:order-first col-span-12"
    <h2 class="font-semibold text-xl h-8 flex items-center">Overview</h2>

    <div class="border-base-content/30 rounded-lg border p-4 mt-8  prose max-w-full">
      <div class="uppercase tracking-widest mb-6">Readme</div>
        
        <h1 id="bonfire.api.graphql">Bonfire.API.GraphQL <a class="direct-link" href="#bonfire.api.graphql">#</a></h1>
<h2 id="graphql-introduction">GraphQL Introduction <a class="direct-link" href="#graphql-introduction">#</a></h2>
<p>Go to <a href="http://your-instance-url/api/">http://your-instance-url/api/</a> to start playing with the GraphQL API. The GraphiQL UI should autocomplete types, queries and mutations for you, and you can also explore the schema there.</p>
<p>Let's start with a simple GraphQL thoeretical query:</p>
<pre class="language-graphql"><code class="language-graphql"><span class="token keyword">query</span> <span class="token punctuation">{</span>
  <span class="token property-query">greetings</span><span class="token punctuation">(</span><span class="token attr-name">limit</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token property">greeting</span>
    <span class="token object">to</span> <span class="token punctuation">{</span>
      <span class="token property">name</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Let's break this apart:</p>
<ul>
<li><code>query {}</code> is how you retrieve information from GraphQL.</li>
<li><code>greetings</code> is a <code>field</code> within the query.</li>
<li><code>greetings</code> takes a <code>limit</code> argument, a positive integer.</li>
<li><code>greetings</code> has two fields, <code>greeting</code> and <code>to</code>.</li>
<li><code>to</code> has one <code>field</code>, <code>name</code>.</li>
</ul>
<p>This query is asking for a list of (up to) 10 greetings and the people<br>
they are for. Notice that the result of both <code>greetings</code> and <code>to</code> are<br>
map/object structures with their own fields and that if the type has<br>
multiple fields, we can select more than one field.</p>
<p>Here is some possible data we could get returned</p>
<pre class="language-elixir"><code class="language-elixir"><span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">greetings:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">greeting:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token attr-name">to:</span> <span class="token punctuation">%</span><span class="token punctuation">{</span> <span class="token attr-name">name:</span> <span class="token string">"dear reader"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment"># english</span>
    <span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">greeting:</span> <span class="token string">"hallo"</span><span class="token punctuation">,</span> <span class="token attr-name">to:</span> <span class="token punctuation">%</span><span class="token punctuation">{</span> <span class="token attr-name">name:</span> <span class="token string">"beste lezer"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment"># dutch</span>
  <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre>
<p>Where is the magic? Typically an object type will reside in its own<br>
table in the database, so this query is actually querying two tables<br>
in one go. In fact, given a supporting schema, you can nest queries<br>
arbitrarily and the backend will figure out how to run them.</p>
<p>The fact that you can represent arbitrarily complex queries puts quite<br>
a lot of pressure on the backend to make it all efficient. This is<br>
still a work in progress at this time.</p>
<h2 id="absinthe-introduction">Absinthe Introduction <a class="direct-link" href="#absinthe-introduction">#</a></h2>
<p>Every <code>field</code> is filled by a resolver. Let's take our existing query<br>
and define a schema for it in Absinthe's query DSL:</p>
<pre class="language-elixir"><code class="language-elixir"><span class="token keyword">defmodule</span> <span class="token module class-name">MyApp</span><span class="token punctuation">.</span><span class="token module class-name">Schema</span> <span class="token keyword">do</span>
  <span class="token comment"># the schema macro language</span>
  <span class="token keyword">use</span> <span class="token module class-name">Absinthe</span><span class="token punctuation">.</span><span class="token module class-name">Schema</span><span class="token punctuation">.</span><span class="token module class-name">Notation</span>
  <span class="token comment"># where we will actually resolve the fields</span>
  <span class="token keyword">alias</span> <span class="token module class-name">MyApp</span><span class="token punctuation">.</span><span class="token module class-name">Resolver</span>

  <span class="token comment"># Our user object is pretty simple, just a name</span>
  object <span class="token atom symbol">:user</span> <span class="token keyword">do</span>
    field <span class="token atom symbol">:name</span><span class="token punctuation">,</span> <span class="token function">non_null</span><span class="token punctuation">(</span><span class="token atom symbol">:string</span><span class="token punctuation">)</span>
  <span class="token keyword">end</span>

  <span class="token comment"># This one is slightly more complicated, we have that nested `to`</span>
  object <span class="token atom symbol">:greeting</span> <span class="token keyword">do</span>
    <span class="token comment"># the easy one</span>
    field <span class="token atom symbol">:greeting</span><span class="token punctuation">,</span> <span class="token function">non_null</span><span class="token punctuation">(</span><span class="token atom symbol">:string</span><span class="token punctuation">)</span>
    <span class="token comment"># the hard one. `edge` is the term for when we cross an object boundary.</span>
    field <span class="token atom symbol">:to</span><span class="token punctuation">,</span> <span class="token function">non_null</span><span class="token punctuation">(</span><span class="token atom symbol">:user</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">do:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token module class-name">Resolver</span><span class="token punctuation">.</span><span class="token function">to_edge</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token keyword">end</span>

  <span class="token comment"># something to put our top level queries in, because they're just fields too!</span>
  object <span class="token atom symbol">:queries</span> <span class="token keyword">do</span>
    field <span class="token atom symbol">:greetings</span><span class="token punctuation">,</span> <span class="token function">non_null</span><span class="token punctuation">(</span><span class="token function">list_of</span><span class="token punctuation">(</span><span class="token function">non_null</span><span class="token punctuation">(</span><span class="token atom symbol">:string</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">do</span>
      arg <span class="token atom symbol">:limit</span><span class="token punctuation">,</span> <span class="token atom symbol">:integer</span> <span class="token comment"># optional</span>
      resolve <span class="token operator">&amp;</span><span class="token module class-name">Resolver</span><span class="token punctuation">.</span><span class="token function">greetings</span><span class="token operator">/</span><span class="token number">2</span> <span class="token comment"># we need to manually process this one</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

<span class="token keyword">end</span></code></pre>
<p>There are a couple of interesting things about this:</p>
<ul>
<li>Sprinklings of <code>not_null</code> to require that values be present (if you<br>
don't return them, absinthe will get upset).</li>
<li>Only two fields have explicit resolvers. Anything else will default<br>
to a map key lookup (which is more often than not what you want).</li>
<li><code>greeting.to_edge</code> has a <code>/3</code> resolver and <code>queries.greetings</code> a<br>
<code>/2</code> resolver.</li>
</ul>
<p>To understand the last one (and partially the middle one), we must<br>
understand how resolution works and what a parent is. The best way of<br>
doing that is probably to look at the resolver code:</p>
<pre class="language-elixir"><code class="language-elixir"><span class="token keyword">defmodule</span> <span class="token module class-name">MyApp</span><span class="token punctuation">.</span><span class="token module class-name">Resolver</span> <span class="token keyword">do</span>

  <span class="token comment"># For purposes of this, we will just fake the data out</span>
  <span class="token keyword">defp</span> <span class="token function">greetings_data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token punctuation">[</span> <span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">greeting:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token attr-name">to:</span> <span class="token punctuation">%</span><span class="token punctuation">{</span> <span class="token attr-name">name:</span> <span class="token string">"dear reader"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment"># english</span>
      <span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">greeting:</span> <span class="token string">"hallo"</span><span class="token punctuation">,</span> <span class="token attr-name">to:</span> <span class="token punctuation">%</span><span class="token punctuation">{</span> <span class="token attr-name">name:</span> <span class="token string">"beste lezer"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment"># dutch</span>
    <span class="token punctuation">]</span>
  <span class="token keyword">end</span>

  <span class="token comment"># the /2 resolver takes only arguments (which in this case is just limit)</span>
  <span class="token comment"># and an info (which we'll explain later)</span>
  <span class="token keyword">def</span> <span class="token function">greetings</span><span class="token punctuation">(</span><span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">limit:</span> limit<span class="token punctuation">}</span><span class="token punctuation">,</span> _info<span class="token punctuation">)</span> <span class="token keyword">when</span> <span class="token function">is_integer</span><span class="token punctuation">(</span>limit<span class="token punctuation">)</span> <span class="token keyword">and</span> limit <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">do</span>
    <span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span> <span class="token module class-name">Enum</span><span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token function">greetings_data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> limit<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token comment"># absinthe expects an ok/error tuple</span>
  <span class="token keyword">end</span>
  <span class="token keyword">def</span> <span class="token function">greetings</span><span class="token punctuation">(</span>_args<span class="token punctuation">,</span> _info<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">do:</span> <span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span> <span class="token function">greetings_data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token comment"># no limit</span>

  <span class="token comment"># the /3 resolver takes an additional parent argument in first position.</span>
  <span class="token comment"># `parent` here will be the `greeting` we are resolving `to` for.</span>
  <span class="token keyword">def</span> <span class="token function">to_edge</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> args<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">do:</span> <span class="token module class-name">Map</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> <span class="token atom symbol">:to</span><span class="token punctuation">)</span>

<span class="token keyword">end</span></code></pre>
<p>The keen-eyed amongst you may have noticed I said the default resolver<br>
is a map lookup and our <code>to_edge/3</code> is a map lookup too, so<br>
technically we didn't need to write it. But then you wouldn't have an<br>
example of a <code>/3</code> resolver! In most of the app, these will be querying<br>
from the database, not looking up in a constant.</p>
<p>So for every field, a resolver function is run. It defaults to a map<br>
lookup, but you can override it with <code>resolve/1</code>. It may or may not<br>
have arguments. And all absinthe resolvers return an ok/error tuple.</p>
<h2 id="copyright-and-license">Copyright and License <a class="direct-link" href="#copyright-and-license">#</a></h2>
<p>Copyright (c) 2020 Bonfire, VoxPublica, and CommonsPub Contributors</p>
<p>This program is free software: you can redistribute it and/or modify<br>
it under the terms of the GNU Affero General Public License as<br>
published by the Free Software Foundation, either version 3 of the<br>
License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but<br>
WITHOUT ANY WARRANTY; without even the implied warranty of<br>
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU<br>
Affero General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public<br>
License along with this program. If not, see <a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.</p>

    </div>
  </div>
  <div class="lg:col-span-4 col-span-12 gap-4 flex flex-col">
      <div class="flex items-center space-x-3">
        <a href="https://github.com/bonfire-networks/bonfire_api_graphql" target="_blank" class="flex-1 w-full btn btn-sm  btn-primary rounded-full">
          Get Code
        </a>
        <a target="_blank" href="https://github.com/bonfire-networks/bonfire-app/issues/new/choose" class="btn rounded-full flex-1 w-full btn-outline border-base-content/30  btn-sm">
            Report bugs
        </a>
    </div>

    

    <div class="bg-base-content/5 mt-4 rounded-lg p-3">
      <div class="uppercase text-xs tracking-widest mb-6">Details</div>
        <div class="gap-2 flex flex-col divide divide-y divide-base-content/30">
          
          <div class="pt-2 flex justify-between items-center text-sm"><span class="font-light">Updated</span> <span class="font-bold">06 Jul 2025</span></div>
          <div class="pt-2 flex justify-between items-center text-sm"><span class="font-light">License</span> <span class="font-bold">mpl-2.0</span></div>
            
          
        </div>
    </div>
    
  </div>
</div>
















  <div class="border-base-content/10 bg-base-200 border-t">
 

  <div class="flex px-8 py-4 mx-auto justify-between items-center">
    <div class="flex items-start gap-4 flex-row lg:flex-col">
      <div class="flex items-center gap-2 flex-1 ">
        <span class="block bg-center bg-no-repeat bg-cover" style="width: 30px; height: 40px; background-image: url(/img/bonfire.png)"></span>
        <p class="font-bold">Bonfire Networks</p>
      </div> 
    </div> 
    <a class="github-button" href="https://github.com/bonfire-networks/bonfire-app" data-color-scheme="no-preference: dark_dimmed; light: light; dark: dark;" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star bonfire-networks/bonfire-app on GitHub">Star</a>
  </div>
  <footer class="px-8  justify-between border-t border-base-content/10 px-4 lg:mx-auto  py-8  footer text-base-content">
  <div>
    <span class="font-semibold !capitalize !text-base-content">Ecosystem</span> 
    <a href="/apps" class="link link-hover text-base-content/70">Apps</a> 
    <a href="/roadmap" class="link link-hover text-base-content/70">Extensions</a> 
    <a href="/themes" target="_blank" class="link link-hover text-base-content/70">Themes</a>
  </div> 
  <div>
    <span class="font-semibold !capitalize !text-base-content">Learn</span> 
    <a href="https://docs.bonfirenetworks.org/" target="_blank" class="link link-hover text-base-content/70">Documentation</a> 
    
    <a href="/faq" class="link link-hover text-base-content/70">FAQs</a> 
  </div> 
  <div>
    <span class="font-semibold !capitalize !text-base-content">Apps</span> 
    <a href="/start" class="link link-hover text-base-content/70">Get started</a> 
    <a href="/hosting" class="link link-hover text-base-content/70">Hosting</a> 
    <a href="https://campground.bonfire.cafe" target="_blank" class="link link-hover text-base-content/70">Demo instance</a> 
  </div> 
  <div>
    <span class="font-semibold !capitalize !text-base-content">More</span> 
    <a href="/community" class="link link-hover text-base-content/70">Participate</a> 
    <a href="/conduct" class="link link-hover text-base-content/70">Code of conduct</a> 
    <a class="link link-hover text-base-content/70" href="/contact/">Contact</a>
    <a href="/presskit" class="link link-hover text-base-content/70">Presskit</a>

  </div>
</footer>
<div class="flex px-8 border-y border-base-content/10 mx-auto  items-center justify-center py-[4vmin]">
  <div class="flex items-center place-items-center">
    <div class="flex items-center gap-3">
      <p class="text-base-content/70">Supported by</p>
      <a class="ml-4" href="https://nlnet.nl">
        <img 
          src="/img/b-nlnet.png" 
          alt="NLNet" 
          width="140" 
          loading="lazy"
          class="light-img"
        >
        <img 
          src="/img/w-nlnet.png" 
          alt="NLNet" 
          width="140" 
          loading="lazy"
          class="dark-img hidden"
        >
      </a>
    </div>
  </div>
</div>
<div class="flex px-8  mx-auto  flex-col sm:flex-row items-center justify-center sm:justify-between py-[4vmin]">
  <div class="flex items-center">
    <a class="mr-12" href="https://opencollective.com/bonfire-networks"><img src="/img/oc.svg" alt="Open Collective account" width="34" height="34" loading="lazy"></a>
    <a class="mr-12" href="https://github.com/bonfire-networks" target="_blank" rel="noopener noreferrer"><img src="/img/opensource.svg" alt="Open Source" width="89" height="34" loading="lazy"></a>
  </div>
    <nav class="hidden md:flex items-center text-sm">
      
      
      <a class="inline-block pl-2 hover:text-white" href="/">Bonfire Networks 2024</a>
    </nav>
  </div>
</div>

<script async defer>

  document.addEventListener('DOMContentLoaded', function() {
  const lightImg = document.querySelector('.light-img');
  const darkImg = document.querySelector('.dark-img');

  function updateImage() {
    const theme = document.body.getAttribute('data-theme');
    if (theme === 'light') {
      lightImg.classList.remove('hidden');
      darkImg.classList.add('hidden');
    } else {
      lightImg.classList.add('hidden');
      darkImg.classList.remove('hidden');
    }
  }

  // Initial call
  updateImage();

  // Set up a MutationObserver to watch for changes to the data-theme attribute
  const observer = new MutationObserver(updateImage);
  observer.observe(document.body, { attributes: true, attributeFilter: ['data-theme'] });
});

</script>
    <!-- Current page: /extension/bonfire_api_graphql/ -->
  </body>
</html>
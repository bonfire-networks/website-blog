<!doctype html>
<html class="w-full antialiased" lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bonfire</title>
    <meta name="description" content="A federated social network for individuals and communities to design, operate and control their own digital lives.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">


    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">

    <!-- OpenGraph meta tags for social sharing -->
    <meta property="og:title" content="Bonfire">
    <meta property="og:description" content="A federated social network for individuals and communities to design, operate and control their own digital lives.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://bonfirenetworks.org//extension/bonfire_boundaries/">
    
    <!-- Twitter card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Bonfire">
    <meta name="twitter:description" content="A federated social network for individuals and communities to design, operate and control their own digital lives.">
    
    
    <link
    rel="stylesheet" href="/css/style_v2.css?v2">
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/focus@3.x.x/dist/cdn.min.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Bonfire">
    <script src="//unpkg.com/alpinejs" defer></script>
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
  </head>
  <body data-theme="bonfire" class="body-theme w-full bg-base-100 antialiased">
    <div
      class="sticky bg-base-100 top-0 z-[999999999999999999] transition duration-500 ease-in-out"
      x-data="{open: false, atTop: false}" 
    >
    

    <div class="max-w-screen-lg mx-auto">
      <header class="relative z-30 lg:px-0 mx-auto navbar">
        <div class="navbar-start w-[30%]">
          <div class="flex  items-center flex-shrink-0">
            <a href="/" class="flex items-center space-x-4">
              <span class="block bg-center bg-no-repeat bg-cover" style="width: 30px; height: 40px; background-image: url(/img/bonfire.png)"></span>  
              <span class="flex items-center"><span class="text-base font-black tracking-wider text-base-content">Bonfire</span> 
              
              </span>
            </a>
          </div>
           
        



        </div>
        
        <div class="navbar-end w-[70%]">

            <div class="hidden xl:flex w-full justify-end mr-3">
          <ul class="flex-row  p-0 font-medium menu font-bold menu-horizontal">
            <li>
              <a href="/about" role="button" tabindex="0" class="flex font-semiboltext-[15px] items-center gap-2 ">
                <span>About</span>
              </a>
            </li>
            <li class="dropdown">
                <div tabindex="0" class="flex    font-semiboltext-[15px] items-center gap-2">
                  <span>Ecosystem</span>
                  <svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"/></svg>
                </div>
              
              <ul tabindex="0" class="dropdown-content min-w-[280px] border border-base-content/20 !ml-0 menu mt-2 p-1 bg-base-100 rounded-lg">
                <li>
                  <a href="/apps" class="flex flex-col rounded-lg flex-wrap items-start">
                      <div class="font-bold">Apps</div>
                      <div class="font-light -mt-1.5  text-sm    font-light">Apps built with Bonfire</div>
                  </a>
                </li>
                <li>
                  <a href="/extensions" class="flex flex-col rounded-lg flex-wrap items-start" >
                      <div class="font-bold">Extensions</div>
                      <div class="font-light -mt-1.5  text-sm    font-light">Explore available extensions</div>
                  </a>
                </li>
                <li>
                  <a href="/hosting" class="flex flex-col rounded-lg flex-wrap items-start" >
                      <div class="font-bold">Hosting</div>
                      <div class="font-light -mt-1.5  text-sm    font-light">How to host Bonfire</div>
                  </a>
                </li>
                
                  
                <li>
                  <a class="flex flex-col rounded-lg flex-wrap items-start" href="/community">
                      <div class="font-bold">How to participate</div>
                      <div class="font-light -mt-1.5  text-sm    font-light">Contribute to Bonfire</div>
                  </a>
                </li>
              </ul>
            </li>
            <li class="dropdown">
                <div tabindex="0" class="flex    font-semiboltext-[15px] items-center gap-2">
                  <span>Learn</span>
                  <svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"/></svg>
                </div>
              <ul tabindex="0" class="dropdown-content min-w-[280px] border border-base-content/30 !ml-0 menu mt-2 p-1 bg-base-300 rounded-lg ">
                <li>
                  <a class="flex flex-col rounded-lg flex-wrap items-start" href="https://doc.bonfirenetworks.org">
                      <div class="font-semibold">Documentation</div>
                      <div class="font-light text-sm    -mt-1.5">Dive into using or building on Bonfire</div>
                  </a>
                </li>
                 <li>
                  <a class="flex flex-col rounded-lg flex-wrap items-start" href="/design">
                      <div class="font-semibold">Design</div>
                      <div class="font-light text-sm    -mt-1.5">Think with Bonfire to create better digital spaces</div>
                  </a>
                </li>
                <li>
                  <a class="flex rounded-lg flex-col flex-wrap items-start" href="/community">
                      <div class="font-semibold">Community</div>
                      <div class="font-light text-sm    -mt-1.5">How to participate in the ecosystem</div>
                  </a>
                </li>
                <li>
                  <a class="flex rounded-lg flex-col flex-wrap items-start" href="/faq">
                    <div class="font-semibold">FAQ</div>
                    <div class="text-sm -mt-1.5 font-light   ">Frequently asked questions</div>
                  </a>
                </li>
                
                
                <li> 
                  <a class="flex flex-col rounded-lg flex-wrap items-start" href="https://github.com/bonfire-networks/bonfire-app" target="_blank">
                    <div class="font-semibold">Get the code</div>
                    <div class="font-light text-sm    -mt-1.5">Bonfire is open source and AGPL3 licensed</div>
                  </a>
                </li>
              </ul>
            </li>
            
            <li>
            <a href="/mosaic" class="font-semibold  text-[15px]  ">
              <span class="">Mosaic</span>
            </a>
            </li>

            <li>
            <a href="/blog" class="font-semibold  text-[15px]  ">
              <span class="">News</span>
            </a>
            </li>
          </ul>
        </div>

           
          <a href="/start/" >
            <span class="btn-sm w-[120px] hidden font-bold normal-case btn btn-primary xl:flex">Get Bonfire</span>
          </a>

          <label for="theme_controller" class="swap swap-rotate mx-3">
  
              <!-- this hidden checkbox controls the state -->
              <input id="theme_controller" type="checkbox" class="theme-controller" value="bonfire" />
              
              <!-- sun icon -->
              <svg class="swap-on fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"/></svg>
              
              <!-- moon icon -->
              <svg class="swap-off fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"/></svg>
            </label>
          <div class="inset-y-0 right-0 flex gap-3 items-center xl:hidden">
            <a href="/start/" >
              <span class="normal-case rounded-full btn btn-sm btn-primary">Get started</span>
            </a>
              <span class="sr-only">Open main menu</span>
              <label class="btn btn-circle btn-ghost swap swap-rotate">
  
              <!-- this hidden checkbox controls the state -->
              <input type="checkbox" />
              
              <!-- hamburger icon -->
              <svg @click="open = !open" class="swap-off fill-current" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"/></svg>
              
              <!-- close icon -->
              <svg @click="open = !open" class="swap-on fill-current" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><polygon points="400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49"/></svg>
              
            </label>
          </div>

        </div>
      

    
      </header>
    </div>
    <div 
      x-description="Mobile menu, show/hide based on menu state." 
      class="xl:hidden" 
      id="mobile-menu" 
      x-show="open" 
      style="display: none;">
      <ul class="p-0 menu bg-base-300">
          <li>
            <a href="/about" class=" ">
            <span class="text-base font-regular">About</span>
          </a>
          </li>

            <li>
            <a href="/apps" class=" ">
            <span class="text-base font-regular">Apps</span>
          </a>
          </li>

          <li>
            <a href="/extensions" class=" ">
            <span class="text-base font-regular">Extensions</span>
          </a>
          </li>

          


            <li>
            <a href="/docs" class=" ">
            <span class="text-base font-regular">Documentation</span>
          </a>
          </li>

          
          
          
          
          <li>
            <a href="/faq" class=" ">
            <span class="text-base font-regular">FAQs</span>
          </a>
          </li>
          <li>
          <a href="/blog" class=" ">
            <span class="text-base font-regular">News</span>
          </a>
          </li>
          <li>
            <a href="/community" class=" ">
              <span class="text-base font-regular">Community</span>
            </a>
          </li>

          <li>
            <a href="https://github.com/bonfire-networks/bonfire-app" class="">
              <span class="text-base font-regular">Get the code</span>
            </a>
          </li>
          
      </ul>
    </div>
  </div>

 <script>
    document.addEventListener('DOMContentLoaded', (event) => {
    const themeController = document.querySelector('.theme-controller');
    const bodyElement = document.body;

    // Load the saved theme from localStorage
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
        themeController.checked = savedTheme === 'bonfire';
        bodyElement.setAttribute('data-theme', savedTheme);
    }

    // Save the theme to localStorage whenever it changes
    themeController.addEventListener('change', (event) => {
        const theme = event.target.checked ? 'bonfire' : 'light';
        localStorage.setItem('theme', theme);
        bodyElement.setAttribute('data-theme', theme);
    });
});
</script>
    


<div class="bg-base-300">
  <div class="max-w-screen-lg py-12 px-4 lg:px-0  lg:mx-auto">
    <div class="text-sm breadcrumbs">
      <ul>
        <li><a href="/extensions">Extensions</a></li> 
        
      </ul>
    </div>
    <h1 class="text-3xl font-bold text-base-content  ">bonfire_boundaries</h1>
    <p class="text-blueGray-300 w-full prose prose-md max-w-prose mt-2">Circles, ACLs, etc</p>
    <div class="relative inline-block mt-6">
      
    <input value="just dep-clone-local bonfire_boundaries https://github.com/bonfire-networks/bonfire_boundaries" class="input w-[420px] input-bordered text-sm" />
    <span class="absolute right-[8px] top-[8px] btn btn-sm btn-square">
        <svg class="w-5 h-5 text-base-content/70" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M7 9.667A2.667 2.667 0 0 1 9.667 7h8.666A2.667 2.667 0 0 1 21 9.667v8.666A2.667 2.667 0 0 1 18.333 21H9.667A2.667 2.667 0 0 1 7 18.333z"/><path d="M4.012 16.737A2.005 2.005 0 0 1 3 15V5c0-1.1.9-2 2-2h10c.75 0 1.158.385 1.5 1"/></g></svg>
      </span>
    </div>
    

  </div>
</div>
<div class="my-12 max-w-screen-lg mx-auto grid grid-cols-12 gap-8 px-4 lg:px-0">

  <div class="lg:col-span-8 order-last lg:order-first col-span-12"
    <h2 class="font-semibold text-xl h-8 flex items-center">Overview</h2>

    <div class="border-base-content/30 rounded-lg border p-4 mt-8  prose max-w-full">
      <div class="uppercase tracking-widest mb-6">Readme</div>
        
        <h1 id="boundaries-for-access-control">Boundaries for Access Control <a class="direct-link" href="#boundaries-for-access-control">#</a></h1>
<p>Bonfire's boundaries framework provides a flexible way to control user access to specific actions and data. It ensures that users can only see and do what they're authorized to.</p>
<p>You can create custom groups of contacts (circles) and grant them specific permissions to interact with you and your content. They can help you take control of your online presence and ensure that your data is shared only with the people you want.</p>
<blockquote>
<p>Boundaries are limits that you set for yourself or others to define what you're comfortable with.<br>
These limits can be physical, like curtains or doors; digital, like sharing settings on social media; in writing, like codes of conduct; emotional, like feeling comfortable to take time for self-care; or mental, like choosing what you pay attention to. In Bonfire, boundaries can help limit the type of interactions that others may have with you or things you post.<br>
Boundaries are important because they help you protect yourself, maintain your autonomy, and communicate your needs and expectations clearly.</p>
</blockquote>
<h2 id="glossary">Glossary <a class="direct-link" href="#glossary">#</a></h2>
<table>
<thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Subject</strong> or <strong>User</strong></td>
<td>An individual who interacts with the system.</td>
</tr>
<tr>
<td><strong><a href="Bonfire.Boundaries.Circles.html">Circle</a></strong></td>
<td>A categorization method for users, allowing users to group other users (e.g., colleagues, friends).</td>
</tr>
<tr>
<td><strong><a href="Bonfire.Boundaries.Verbs.html">Verb</a></strong></td>
<td>An action that a user can perform (e.g., read, reply).</td>
</tr>
<tr>
<td><strong>Permission</strong></td>
<td>A value indicating whether an action is allowed (<code>true</code>), denied (<code>false</code>), or <code>nil</code>.</td>
</tr>
<tr>
<td><strong><a href="Bonfire.Boundaries.Grants.html">Grant</a></strong></td>
<td>Links a user or circle with a verb and permission.</td>
</tr>
<tr>
<td><strong><a href="Bonfire.Boundaries.Acls.html">ACL</a></strong></td>
<td>Access Control List, a collection of grants. Also called &quot;boundary&quot; or &quot;boundary preset&quot; in the app.</td>
</tr>
<tr>
<td><strong><a href="Bonfire.Boundaries.Controlleds.html">Controlled</a></strong></td>
<td>Links an object to one or more ACLs, to determine access based on the grants.</td>
</tr>
<tr>
<td><strong><a href="Bonfire.Boundaries.Roles.html">Role</a></strong></td>
<td>A group of verbs linked to a permission.</td>
</tr>
</tbody>
</table>
<h2 id="users-and-circles">Users and Circles <a class="direct-link" href="#users-and-circles">#</a></h2>
<p>Circles are a way of categorizing users. Each user can have their own set of circles to categorize other users. Circles allow a user to group work colleagues differently from friends for example, and to allow different interactions for users in each circle or limit content visibility on a per-item basis.</p>
<h2 id="verbs">Verbs <a class="direct-link" href="#verbs">#</a></h2>
<p>Verbs represent actions users can perform, such as reading a post or replying to a message. Each verb has a unique ID and are defined in configuration.</p>
<h2 id="permissions">Permissions <a class="direct-link" href="#permissions">#</a></h2>
<p>A permission is a decision about whether the action may be performed or not. There are 3 possible values:</p>
<ul>
<li><code>true</code>: yes, the action is allowed</li>
<li><code>false</code>: no, the action is explicitly denied (i.e. never permit)</li>
<li><code>null</code>/<code>nil</code>: unknown, the action isn't explicitly allowed (defaults to not allowed)</li>
</ul>
<h3 id="grants">Grants <a class="direct-link" href="#grants">#</a></h3>
<p>A <code>Grant</code> links a <code>subject</code> (user or circle) with a <code>Verb</code> and a permission. It defines the access rights for a specific user or circle in relation to a particular action.</p>
<h2 id="acls">ACLs <a class="direct-link" href="#acls">#</a></h2>
<p>An <code>Acl</code> is a list of <code>Grant</code>s used to define access permissions for objects.</p>
<p>Because a user could be in more than one circle and each circle may have a different permission, when a user attempts an action on an object, the system combines all relevant grants to determine the final permission. This combination prioritizes permissions as follows: <code>false &gt; true &gt; nil</code>, resulting in:</p>
<table>
<thead>
<tr>
<th style="text-align:left">input</th>
<th style="text-align:left">input</th>
<th style="text-align:left">result</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>nil</code></td>
<td style="text-align:left"><code>nil</code></td>
<td style="text-align:left"><code>nil</code></td>
</tr>
<tr>
<td style="text-align:left"><code>nil</code></td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left"><code>true</code></td>
</tr>
<tr>
<td style="text-align:left"><code>nil</code></td>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left"><code>false</code></td>
</tr>
<tr>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left"><code>nil</code></td>
<td style="text-align:left"><code>true</code></td>
</tr>
<tr>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left"><code>true</code></td>
</tr>
<tr>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left"><code>false</code></td>
</tr>
<tr>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left"><code>nil</code></td>
<td style="text-align:left"><code>false</code></td>
</tr>
<tr>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left"><code>false</code></td>
</tr>
<tr>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left"><code>false</code></td>
</tr>
</tbody>
</table>
<p>In simpler terms, a final permission is granted only if the combined result is <code>true</code>. Think of it as requiring an explicit &quot;yes&quot; for permission, while &quot;no&quot; always takes precedence. Notably, <code>nil</code> acts as a sort of &quot;weak no,&quot; it can be overridden by a <code>true</code> but not granting access on its own. This approach provides flexibility for implementing features like user blocking (<code>false</code> is crucial here).</p>
<p>For efficiency, <code>nil</code> is the assumed default and not stored in the database.</p>
<h2 id="controlled---applying-boundaries-to-an-object">Controlled - Applying boundaries to an object <a class="direct-link" href="#controlled---applying-boundaries-to-an-object">#</a></h2>
<p>The <code>Controlled</code> <a href="./DATABASE.md#multimixins">multimixin</a> link an object to one or more ACLs. This allows for applying multiple boundaries to the same object. In case of overlapping permissions, the system combines them following the logic described above.</p>
<h3 id="roles">Roles <a class="direct-link" href="#roles">#</a></h3>
<p>Roles are groups of verbs associated with permissions. While not stored in the database, they are defined at the configuration level to enhance readability and user experience.</p>
<h2 id="practical-example%3A-surprise-birthday-party">Practical example: Surprise birthday party <a class="direct-link" href="#practical-example%3A-surprise-birthday-party">#</a></h2>
<p>Let's illustrate how boundaries work with a real-world example: planning a surprise party without the birthday girl finding out.</p>
<h3 id="1.-setting-up-users">1. Setting up users <a class="direct-link" href="#1.-setting-up-users">#</a></h3>
<pre class="language-elixir"><code class="language-elixir">iex<span class="token operator">></span> <span class="token keyword">import</span> <span class="token module class-name">Bonfire</span><span class="token punctuation">.</span><span class="token module class-name">Me</span><span class="token punctuation">.</span><span class="token module class-name">Fake</span>
iex<span class="token operator">></span> organizer <span class="token operator">=</span> <span class="token function">fake_user!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
iex<span class="token operator">></span> birthday_girl <span class="token operator">=</span> <span class="token function">fake_user!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
iex<span class="token operator">></span> friends <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">fake_user!</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">fake_user!</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
iex<span class="token operator">></span> family <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">fake_user!</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">fake_user!</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span></code></pre>
<h3 id="2.-define-your-circles">2. Define your Circles <a class="direct-link" href="#2.-define-your-circles">#</a></h3>
<p>Organize users into relevant circles (friends and family).</p>
<pre class="language-elixir"><code class="language-elixir">iex<span class="token operator">></span> <span class="token keyword">alias</span> <span class="token module class-name">Bonfire</span><span class="token punctuation">.</span><span class="token module class-name">Boundaries</span><span class="token punctuation">.</span><span class="token module class-name">Circles</span>
iex<span class="token operator">></span> <span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span> friends_circle<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token module class-name">Circles</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>organizer<span class="token punctuation">,</span> <span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">named:</span> <span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">name:</span> <span class="token string">"friends"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
iex<span class="token operator">></span> <span class="token module class-name">Circles</span><span class="token punctuation">.</span><span class="token function">add_to_circles</span><span class="token punctuation">(</span>friends<span class="token punctuation">,</span> friends_circle<span class="token punctuation">)</span>
iex<span class="token operator">></span> <span class="token module class-name">Circles</span><span class="token punctuation">.</span><span class="token function">is_encircled_by?</span><span class="token punctuation">(</span><span class="token module class-name">List</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span>friends<span class="token punctuation">)</span><span class="token punctuation">,</span> friends_circle<span class="token punctuation">)</span>
<span class="token boolean">true</span>
iex<span class="token operator">></span> <span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span> family_circle<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token module class-name">Circles</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>organizer<span class="token punctuation">,</span> <span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">named:</span> <span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">name:</span> <span class="token string">"family"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
iex<span class="token operator">></span> <span class="token module class-name">Circles</span><span class="token punctuation">.</span><span class="token function">add_to_circles</span><span class="token punctuation">(</span>family<span class="token punctuation">,</span> family_circle<span class="token punctuation">)</span></code></pre>
<h3 id="3.-create-the-acl-(boundary-preset)">3. Create the ACL (boundary preset) <a class="direct-link" href="#3.-create-the-acl-(boundary-preset)">#</a></h3>
<p>This boundary will control access to the surprise party plans.</p>
<pre class="language-elixir"><code class="language-elixir">iex<span class="token operator">></span> <span class="token keyword">alias</span> <span class="token module class-name">Bonfire</span><span class="token punctuation">.</span><span class="token module class-name">Boundaries</span><span class="token punctuation">.</span><span class="token module class-name">Acls</span>
iex<span class="token operator">></span> <span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span> boundary<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token module class-name">Acls</span><span class="token punctuation">.</span><span class="token function">simple_create</span><span class="token punctuation">(</span>organizer<span class="token punctuation">,</span> <span class="token string">"Surprise party"</span><span class="token punctuation">)</span></code></pre>
<h3 id="4.-grant-permissions">4. Grant permissions <a class="direct-link" href="#4.-grant-permissions">#</a></h3>
<p>Allow friends to discover, read, and respond to party plans, while family members can also edit details and send invitations.</p>
<pre class="language-elixir"><code class="language-elixir">iex<span class="token operator">></span> <span class="token keyword">alias</span> <span class="token module class-name">Bonfire</span><span class="token punctuation">.</span><span class="token module class-name">Boundaries</span><span class="token punctuation">.</span><span class="token module class-name">Grants</span>
iex<span class="token operator">></span> <span class="token module class-name">Grants</span><span class="token punctuation">.</span><span class="token function">grant</span><span class="token punctuation">(</span>friends_circle<span class="token punctuation">.</span>id<span class="token punctuation">,</span> boundary<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token atom symbol">:see</span><span class="token punctuation">,</span> <span class="token atom symbol">:read</span><span class="token punctuation">,</span> <span class="token atom symbol">:reply</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token attr-name">current_user:</span> organizer<span class="token punctuation">)</span>
iex<span class="token operator">></span> <span class="token module class-name">Grants</span><span class="token punctuation">.</span><span class="token function">grant</span><span class="token punctuation">(</span>family_circle<span class="token punctuation">.</span>id<span class="token punctuation">,</span> boundary<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token atom symbol">:see</span><span class="token punctuation">,</span> <span class="token atom symbol">:read</span><span class="token punctuation">,</span> <span class="token atom symbol">:reply</span><span class="token punctuation">,</span> <span class="token atom symbol">:edit</span><span class="token punctuation">,</span> <span class="token atom symbol">:invite</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token attr-name">current_user:</span> organizer<span class="token punctuation">)</span></code></pre>
<p>Prevent the birthday person from accessing any party information.</p>
<pre class="language-elixir"><code class="language-elixir">iex<span class="token operator">></span> <span class="token module class-name">Grants</span><span class="token punctuation">.</span><span class="token function">grant</span><span class="token punctuation">(</span>birthday_girl<span class="token punctuation">.</span>id<span class="token punctuation">,</span> boundary<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token atom symbol">:see</span><span class="token punctuation">,</span> <span class="token atom symbol">:read</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token attr-name">current_user:</span> organizer<span class="token punctuation">)</span></code></pre>
<h3 id="5.-post-about-the-party">5. Post about the party <a class="direct-link" href="#5.-post-about-the-party">#</a></h3>
<pre class="language-elixir"><code class="language-elixir">iex<span class="token operator">></span> <span class="token keyword">alias</span> <span class="token module class-name">Bonfire</span><span class="token punctuation">.</span><span class="token module class-name">Posts</span>
iex<span class="token operator">></span> <span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span> party_plan<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token module class-name">Posts</span><span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span>
        <span class="token attr-name">current_user:</span> organizer<span class="token punctuation">,</span>
        <span class="token attr-name">boundary:</span> boundary<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        <span class="token attr-name">post_attrs:</span> <span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">post_content:</span> <span class="token punctuation">%</span><span class="token punctuation">{</span><span class="token attr-name">name:</span> <span class="token string">"Surprise party!"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<h3 id="6.-double-check-applied-boundaries">6. Double-check applied boundaries <a class="direct-link" href="#6.-double-check-applied-boundaries">#</a></h3>
<pre class="language-elixir"><code class="language-elixir">iex<span class="token operator">></span> <span class="token module class-name">Boundaries</span><span class="token punctuation">.</span><span class="token function">can?</span><span class="token punctuation">(</span><span class="token module class-name">List</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span>friends<span class="token punctuation">)</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token atom symbol">:read</span><span class="token punctuation">,</span> party_plan<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
<span class="token boolean">true</span>
iex<span class="token operator">></span> <span class="token module class-name">Boundaries</span><span class="token punctuation">.</span><span class="token function">can?</span><span class="token punctuation">(</span><span class="token module class-name">List</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span>family<span class="token punctuation">)</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token atom symbol">:invite</span><span class="token punctuation">,</span> party_plan<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
<span class="token boolean">true</span>
iex<span class="token operator">></span> <span class="token module class-name">Boundaries</span><span class="token punctuation">.</span><span class="token function">can?</span><span class="token punctuation">(</span>birthday_girl<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token atom symbol">:see</span><span class="token punctuation">,</span> party_plan<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
<span class="token boolean">false</span>
iex<span class="token operator">></span> <span class="token module class-name">Boundaries</span><span class="token punctuation">.</span><span class="token function">load_pointer</span><span class="token punctuation">(</span>party_plan<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token attr-name">current_user:</span> birthday_girl<span class="token punctuation">)</span>
<span class="token boolean">nil</span></code></pre>
<p>By following these steps, the organizer can effectively manage access to ensure the birthday girl cannot see the party plans, while friends and family can.</p>
<h2 id="copyright-and-license">Copyright and License <a class="direct-link" href="#copyright-and-license">#</a></h2>
<p>Copyright (c) 2020 Bonfire Contributors</p>
<p>This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed with this file, You can obtain one at <a href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>

    </div>
  </div>
  <div class="lg:col-span-4 col-span-12 gap-4 flex flex-col">
      <div class="flex items-center space-x-3">
        <a href="https://github.com/bonfire-networks/bonfire_boundaries" target="_blank" class="flex-1 w-full btn btn-sm  btn-primary rounded-full">
          Get Code
        </a>
        <a target="_blank" href="https://github.com/bonfire-networks/bonfire-app/issues/new/choose" class="btn rounded-full flex-1 w-full btn-outline border-base-content/30  btn-sm">
            Report bugs
        </a>
    </div>

    

    <div class="bg-base-content/5 mt-4 rounded-lg p-3">
      <div class="uppercase text-xs tracking-widest mb-6">Details</div>
        <div class="gap-2 flex flex-col divide divide-y divide-base-content/30">
          
          <div class="pt-2 flex justify-between items-center text-sm"><span class="font-light">Updated</span> <span class="font-bold">03 May 2025</span></div>
          <div class="pt-2 flex justify-between items-center text-sm"><span class="font-light">License</span> <span class="font-bold">mpl-2.0</span></div>
            
          
        </div>
    </div>
    
  </div>
</div>
















  <div class="border-base-content/10 bg-base-200 border-t">
 

  <div class="flex px-8 py-4 mx-auto justify-between items-center">
    <div class="flex items-start gap-4 flex-row lg:flex-col">
      <div class="flex items-center gap-2 flex-1 ">
        <span class="block bg-center bg-no-repeat bg-cover" style="width: 30px; height: 40px; background-image: url(/img/bonfire.png)"></span>
        <p class="font-bold">Bonfire Networks</p>
      </div> 
    </div> 
    <a class="github-button" href="https://github.com/bonfire-networks/bonfire-app" data-color-scheme="no-preference: dark_dimmed; light: light; dark: dark;" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star bonfire-networks/bonfire-app on GitHub">Star</a>
  </div>
  <footer class="px-8  justify-between border-t border-base-content/10 px-4 lg:mx-auto  py-8  footer text-base-content">
  <div>
    <span class="font-semibold !capitalize !text-base-content">Ecosystem</span> 
    <a href="/apps" class="link link-hover text-base-content/70">Apps</a> 
    <a href="/roadmap" class="link link-hover text-base-content/70">Extensions</a> 
    <a href="/themes" target="_blank" class="link link-hover text-base-content/70">Themes</a>
  </div> 
  <div>
    <span class="font-semibold !capitalize !text-base-content">Learn</span> 
    <a href="https://docs.bonfirenetworks.org/" target="_blank" class="link link-hover text-base-content/70">Documentation</a> 
    
    <a href="/faq" class="link link-hover text-base-content/70">FAQs</a> 
  </div> 
  <div>
    <span class="font-semibold !capitalize !text-base-content">Apps</span> 
    <a href="/start" class="link link-hover text-base-content/70">Get started</a> 
    <a href="/hosting" class="link link-hover text-base-content/70">Hosting</a> 
    <a href="https://campground.bonfire.cafe" target="_blank" class="link link-hover text-base-content/70">Demo instance</a> 
  </div> 
  <div>
    <span class="font-semibold !capitalize !text-base-content">More</span> 
    <a href="/community" class="link link-hover text-base-content/70">Participate</a> 
    <a href="/conduct" class="link link-hover text-base-content/70">Code of conduct</a> 
    <a class="link link-hover text-base-content/70" href="/contact/">Contact</a>
    <a href="/presskit" class="link link-hover text-base-content/70">Presskit</a>

  </div>
</footer>
<div class="flex px-8 border-y border-base-content/10 mx-auto  items-center justify-center py-[4vmin]">
  <div class="flex items-center place-items-center">
    <div class="flex items-center gap-3">
      <p class="text-base-content/70">Supported by</p>
      <a class="ml-4" href="https://nlnet.nl">
        <img 
          src="/img/b-nlnet.png" 
          alt="NLNet" 
          width="140" 
          loading="lazy"
          class="light-img"
        >
        <img 
          src="/img/w-nlnet.png" 
          alt="NLNet" 
          width="140" 
          loading="lazy"
          class="dark-img hidden"
        >
      </a>
    </div>
  </div>
</div>
<div class="flex px-8  mx-auto  flex-col sm:flex-row items-center justify-center sm:justify-between py-[4vmin]">
  <div class="flex items-center">
    <a class="mr-12" href="https://opencollective.com/bonfire-networks"><img src="/img/oc.svg" alt="Open Collective account" width="34" height="34" loading="lazy"></a>
    <a class="mr-12" href="https://github.com/bonfire-networks" target="_blank" rel="noopener noreferrer"><img src="/img/opensource.svg" alt="Open Source" width="89" height="34" loading="lazy"></a>
  </div>
    <nav class="hidden md:flex items-center text-sm">
      
      
      <a class="inline-block pl-2 hover:text-white" href="/">Bonfire Networks 2024</a>
    </nav>
  </div>
</div>

<script async defer>

  document.addEventListener('DOMContentLoaded', function() {
  const lightImg = document.querySelector('.light-img');
  const darkImg = document.querySelector('.dark-img');

  function updateImage() {
    const theme = document.body.getAttribute('data-theme');
    if (theme === 'light') {
      lightImg.classList.remove('hidden');
      darkImg.classList.add('hidden');
    } else {
      lightImg.classList.add('hidden');
      darkImg.classList.remove('hidden');
    }
  }

  // Initial call
  updateImage();

  // Set up a MutationObserver to watch for changes to the data-theme attribute
  const observer = new MutationObserver(updateImage);
  observer.observe(document.body, { attributes: true, attributeFilter: ['data-theme'] });
});

</script>
    <!-- Current page: /extension/bonfire_boundaries/ -->
  </body>
</html>
<!doctype html>
<html class="w-full antialiased" lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototyping Our First Native Components with LiveView Native</title>
    <meta name="description" content="With our initial mockups complete, we were eager to start coding in LiveView Native (LVN). There are two primary ways to debug our iOS app: using Xcode or LVN Go.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">


    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">

    <!-- OpenGraph meta tags for social sharing -->
    <meta property="og:title" content="Prototyping Our First Native Components with LiveView Native">
    <meta property="og:description" content="With our initial mockups complete, we were eager to start coding in LiveView Native (LVN). There are two primary ways to debug our iOS app: using Xcode or LVN Go.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://bonfirenetworks.org//posts/prototyping-our-first-native-components-with-liveview-native/">
    
    <meta property="og:image" content="https://bonfirenetworks.org//img/sheet.png">
    
    <!-- Twitter card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Prototyping Our First Native Components with LiveView Native">
    <meta name="twitter:description" content="With our initial mockups complete, we were eager to start coding in LiveView Native (LVN). There are two primary ways to debug our iOS app: using Xcode or LVN Go.">
    
    <meta name="twitter:image" content="https://bonfirenetworks.org//img/sheet.png">
    
    
    <link
    rel="stylesheet" href="/css/style_v2.css?v2">
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/focus@3.x.x/dist/cdn.min.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Bonfire">
    <script src="//unpkg.com/alpinejs" defer></script>
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
  </head>
  <body data-theme="bonfire" class="body-theme w-full bg-base-100 antialiased">
    <div
      class="sticky bg-base-100 top-0 z-[999999999999999999] transition duration-500 ease-in-out"
      x-data="{open: false, atTop: false}" 
    >
    

    <div class="max-w-screen-lg mx-auto">
      <header class="relative z-30 lg:px-0 mx-auto navbar">
        <div class="navbar-start w-[30%]">
          <div class="flex  items-center flex-shrink-0">
            <a href="/" class="flex items-center space-x-4">
              <span class="block bg-center bg-no-repeat bg-cover" style="width: 30px; height: 40px; background-image: url(/img/bonfire.png)"></span>  
              <span class="flex items-center"><span class="text-base font-black tracking-wider text-base-content">Bonfire</span> 
              
              </span>
            </a>
          </div>
           
        



        </div>
        
        <div class="navbar-end w-[70%]">

            <div class="hidden xl:flex w-full justify-end mr-3">
          <ul class="flex-row  p-0 font-medium menu font-bold menu-horizontal">
            <li>
              <a href="/about" role="button" tabindex="0" class="flex font-semiboltext-[15px] items-center gap-2 ">
                <span>About</span>
              </a>
            </li>
            <li class="dropdown">
                <div tabindex="0" class="flex    font-semiboltext-[15px] items-center gap-2">
                  <span>Ecosystem</span>
                  <svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"/></svg>
                </div>
              
              <ul tabindex="0" class="dropdown-content min-w-[280px] border border-base-content/20 !ml-0 menu mt-2 p-1 bg-base-100 rounded-lg">
                <li>
                  <a href="/apps" class="flex flex-col rounded-lg flex-wrap items-start">
                      <div class="font-bold">Apps</div>
                      <div class="font-light -mt-1.5  text-sm    font-light">Apps built with Bonfire</div>
                  </a>
                </li>
                <li>
                  <a href="/extensions" class="flex flex-col rounded-lg flex-wrap items-start" >
                      <div class="font-bold">Extensions</div>
                      <div class="font-light -mt-1.5  text-sm    font-light">Explore available extensions</div>
                  </a>
                </li>
                <li>
                  <a href="/hosting" class="flex flex-col rounded-lg flex-wrap items-start" >
                      <div class="font-bold">Hosting</div>
                      <div class="font-light -mt-1.5  text-sm    font-light">How to host Bonfire</div>
                  </a>
                </li>
                
                  
                <li>
                  <a class="flex flex-col rounded-lg flex-wrap items-start" href="/community">
                      <div class="font-bold">How to participate</div>
                      <div class="font-light -mt-1.5  text-sm    font-light">Contribute to Bonfire</div>
                  </a>
                </li>
              </ul>
            </li>
            <li class="dropdown">
                <div tabindex="0" class="flex    font-semiboltext-[15px] items-center gap-2">
                  <span>Learn</span>
                  <svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"/></svg>
                </div>
              <ul tabindex="0" class="dropdown-content min-w-[280px] border border-base-content/30 !ml-0 menu mt-2 p-1 bg-base-300 rounded-lg ">
                <li>
                  <a class="flex flex-col rounded-lg flex-wrap items-start" href="https://doc.bonfirenetworks.org">
                      <div class="font-semibold">Documentation</div>
                      <div class="font-light text-sm    -mt-1.5">Dive into using or building on Bonfire</div>
                  </a>
                </li>
                 <li>
                  <a class="flex flex-col rounded-lg flex-wrap items-start" href="/design">
                      <div class="font-semibold">Design</div>
                      <div class="font-light text-sm    -mt-1.5">Think with Bonfire to create better digital spaces</div>
                  </a>
                </li>
                <li>
                  <a class="flex rounded-lg flex-col flex-wrap items-start" href="/community">
                      <div class="font-semibold">Community</div>
                      <div class="font-light text-sm    -mt-1.5">How to participate in the ecosystem</div>
                  </a>
                </li>
                <li>
                  <a class="flex rounded-lg flex-col flex-wrap items-start" href="/faq">
                    <div class="font-semibold">FAQ</div>
                    <div class="text-sm -mt-1.5 font-light   ">Frequently asked questions</div>
                  </a>
                </li>
                
                
                <li> 
                  <a class="flex flex-col rounded-lg flex-wrap items-start" href="https://github.com/bonfire-networks/bonfire-app" target="_blank">
                    <div class="font-semibold">Get the code</div>
                    <div class="font-light text-sm    -mt-1.5">Bonfire is open source and AGPL3 licensed</div>
                  </a>
                </li>
              </ul>
            </li>
            
            <li>
            <a href="/mosaic" class="font-semibold  text-[15px]  ">
              <span class="">Mosaic</span>
            </a>
            </li>

            <li>
            <a href="/blog" class="font-semibold  text-[15px]  ">
              <span class="">News</span>
            </a>
            </li>
          </ul>
        </div>

           
          <a href="/start/" >
            <span class="btn-sm w-[120px] hidden font-bold normal-case btn btn-primary xl:flex">Get Bonfire</span>
          </a>

          <label for="theme_controller" class="swap swap-rotate mx-3">
  
              <!-- this hidden checkbox controls the state -->
              <input id="theme_controller" type="checkbox" class="theme-controller" value="bonfire" />
              
              <!-- sun icon -->
              <svg class="swap-on fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"/></svg>
              
              <!-- moon icon -->
              <svg class="swap-off fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"/></svg>
            </label>
          <div class="inset-y-0 right-0 flex gap-3 items-center xl:hidden">
            <a href="/start/" >
              <span class="normal-case rounded-full btn btn-sm btn-primary">Get started</span>
            </a>
              <span class="sr-only">Open main menu</span>
              <label class="btn btn-circle btn-ghost swap swap-rotate">
  
              <!-- this hidden checkbox controls the state -->
              <input type="checkbox" />
              
              <!-- hamburger icon -->
              <svg @click="open = !open" class="swap-off fill-current" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"/></svg>
              
              <!-- close icon -->
              <svg @click="open = !open" class="swap-on fill-current" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><polygon points="400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49"/></svg>
              
            </label>
          </div>

        </div>
      

    
      </header>
    </div>
    <div 
      x-description="Mobile menu, show/hide based on menu state." 
      class="xl:hidden" 
      id="mobile-menu" 
      x-show="open" 
      style="display: none;">
      <ul class="p-0 menu bg-base-300">
          <li>
            <a href="/about" class=" ">
            <span class="text-base font-regular">About</span>
          </a>
          </li>

            <li>
            <a href="/apps" class=" ">
            <span class="text-base font-regular">Apps</span>
          </a>
          </li>

          <li>
            <a href="/extensions" class=" ">
            <span class="text-base font-regular">Extensions</span>
          </a>
          </li>

          


            <li>
            <a href="/docs" class=" ">
            <span class="text-base font-regular">Documentation</span>
          </a>
          </li>

          
          
          
          
          <li>
            <a href="/faq" class=" ">
            <span class="text-base font-regular">FAQs</span>
          </a>
          </li>
          <li>
          <a href="/blog" class=" ">
            <span class="text-base font-regular">News</span>
          </a>
          </li>
          <li>
            <a href="/community" class=" ">
              <span class="text-base font-regular">Community</span>
            </a>
          </li>

          <li>
            <a href="https://github.com/bonfire-networks/bonfire-app" class="">
              <span class="text-base font-regular">Get the code</span>
            </a>
          </li>
          
      </ul>
    </div>
  </div>

 <script>
    document.addEventListener('DOMContentLoaded', (event) => {
    const themeController = document.querySelector('.theme-controller');
    const bodyElement = document.body;

    // Load the saved theme from localStorage
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
        themeController.checked = savedTheme === 'bonfire';
        bodyElement.setAttribute('data-theme', savedTheme);
    }

    // Save the theme to localStorage whenever it changes
    themeController.addEventListener('change', (event) => {
        const theme = event.target.checked ? 'bonfire' : 'light';
        localStorage.setItem('theme', theme);
        bodyElement.setAttribute('data-theme', theme);
    });
});
</script>
    

<div class="max-w-screen-md px-6 mx-auto mt-0 mb-12 lg:px-0">
  <div class="py-8 pb-8 mx-auto">
    <div class="">
       
     <div class="items-center justify-center mb-6 place-content-center flex gap-4"><a href="/tags/development/">
        <span class="badge capitalize badge-lg badge-outline">
          development
        </span>
        </a>
      </div>
      <h1 style="line-height: 50px;" class="z-10 col-span-2 text-4xl font-bold text-center">Prototyping Our First Native Components with LiveView Native</h1>



      
        <img src="/img/sheet.png" alt="post image" class="w-full max-h-[520px] mt-6 rounded-box object-fit object-cover" />
      
        
    </div>
  </div>

    

  <article class="max-w-screen-md mx-auto mt-12 prose prose-xl">
    <p><strong>Read part one: <a href="/posts/dev_diary_lvn">Building Bonfire Native Apps with LiveView Native</a></strong></p>
<hr>
<p>With our initial mockups complete, we were eager to start coding in LiveView Native (LVN). There are two primary ways to debug an iOS app: using Xcode or LVN Go. <a href="https://dockyard.com/blog/2024/09/10/introducing-lvn-go"><strong>LVN Go</strong> is an application available on macOS, iPad, and iPhone that allows you to test a LiveView Native app directly on a device by pointing it to the Phoenix server URL</a>.</p>
<p>We chose to use <strong>Xcode</strong> because we need to build custom SwiftUI views in the future for our specific use case.</p>
<p>For reference, I'm using <strong>Xcode beta</strong> with the <strong>iPhone 16 simulator</strong> running <strong>iOS 18</strong> on <strong>macOS Sequoia</strong>, and <code>live_view_native_swiftui</code> version <strong>0.3.0</strong>.<br>
iOS 17 should work fine as well; however, I experienced some SwiftUI errors with older versions.</p>
<p>I followed the tutorial from the <a href="https://dockyard.com/blog/2023/07/07/getting-started-with-liveview-native-swiftui">DockYard blog post</a> to set up a basic LiveView Native app.</p>
<p>Adding LVN is quite straightforward, though there are still some tweaks that need to be done manually, such as editing the <code>dev.exs</code> file. Nonetheless, the experience is already pretty smooth!</p>
<p>To debug my app, I needed to run the project on Xcode. Fortunately, the basic code to set up the SwiftUI app and connect to the Phoenix server is automatically generated when running the <code>mix lvn.setup.gen</code> task.</p>
<p>I just had to open the project by running:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">open</span> native/swiftui/Counter.xcodeproj</code></pre>
<p>Xcode begins fetching dependencies and may trigger some errors. Enabling permissions for plugins used by LiveView Native, as outlined in the <a href="https://hexdocs.pm/live_view_native_swiftui/create-a-swiftui-application.html">official guide</a>, solves all of them.</p>
<p>At this point, I was ready to build and run the app on the iPhone simulator.</p>
<hr>
<h3 id="understanding-swiftui-and-lvn">Understanding SwiftUI and LVN <a class="direct-link" href="#understanding-swiftui-and-lvn">#</a></h3>
<p>One of the challenges I encountered was wrapping my head around the SwiftUI way of building interfaces and then translating that back to LVN. I found myself frequently switching between the <a href="https://developer.apple.com/documentation/swiftui">SwiftUI documentation</a> and the <a href="https://hexdocs.pm/live_view_native_swiftui/syntax_conversion.html#content">LiveView Native SwiftUI syntax conversion guide</a>.</p>
<p>Other resources I found useful were the <a href="https://github.com/LiveViewNative/recipes">LVN CookBook</a> (a collection of useful design patterns) and the <a href="https://github.com/LiveViewNative/lax">Lax GitHub repository</a> (a minimal Slack clone built with LVN).</p>
<hr>
<h3 id="leveraging-ai-and-community-support">Leveraging AI and Community Support <a class="direct-link" href="#leveraging-ai-and-community-support">#</a></h3>
<p>There were some parts I still need to understand better, but using AI tools like <strong>Claude 3.5 sonnet</strong> and <strong>GPT-4o</strong> often helped in navigating component design in SwiftUI and translating SwiftUI code into LVN. When I wasn't able to do it on my own, the LiveView Native slack community was very supportive.</p>
<hr>
<h2 id="prototyping-components">Prototyping Components <a class="direct-link" href="#prototyping-components">#</a></h2>
<p>At this point, I just wanted to get a feel of how to build native components in LVN, before starting to build the main pages of the app. I ended up prototyping a few components that are trasversal to the main views of the Bonfire iOS app, such as the Dropdown Menu and the Modal.</p>
<h3 id="dropdown-menu">Dropdown Menu <a class="direct-link" href="#dropdown-menu">#</a></h3>
<p>LVN includes the <a href="https://developer.apple.com/documentation/swiftui/menu/">SwiftUI</a> default <code>Menu</code> component:</p>
<pre class="language-elixir"><code class="language-elixir">&lt;<span class="token module class-name">Menu</span>> 
  <span class="token operator">&lt;</span><span class="token module class-name">Text</span> template<span class="token operator">=</span><span class="token punctuation">{</span><span class="token atom symbol">:label</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token module class-name">Edit</span> <span class="token module class-name">Actions</span>&lt;<span class="token operator">/</span><span class="token module class-name">Text</span>> 
  <span class="token operator">&lt;</span><span class="token module class-name">Group</span> template<span class="token operator">=</span><span class="token punctuation">{</span><span class="token atom symbol">:content</span><span class="token punctuation">}</span><span class="token operator">></span> 
    <span class="token operator">&lt;</span><span class="token module class-name">Button</span> phx<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">"arrange"</span>><span class="token module class-name">Arrange</span>&lt;<span class="token operator">/</span><span class="token module class-name">Button</span>> 
    <span class="token operator">&lt;</span><span class="token module class-name">Button</span> phx<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">"update"</span>><span class="token module class-name">Update</span>&lt;<span class="token operator">/</span><span class="token module class-name">Button</span>> 
    <span class="token operator">&lt;</span><span class="token module class-name">Button</span> phx<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">"remove"</span>><span class="token module class-name">Remove</span>&lt;<span class="token operator">/</span><span class="token module class-name">Button</span>> 
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token module class-name">Group</span>> 
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token module class-name">Menu</span>></code></pre>
<p>The unfamiliar bit for me here was the <code>template</code> prop on both <code>Text</code> and <code>Group</code>.</p>
<p>In <a href="https://developer.apple.com/documentation/swiftui/menu">SwiftUI</a>, the <code>Menu</code> struct requires both a <code>label</code> and <code>content</code> parameter, which are closures returning the views to be displayed in the menu component:</p>
<pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">Menu</span><span class="token operator">&lt;</span><span class="token class-name">Label</span><span class="token punctuation">,</span> <span class="token class-name">Content</span><span class="token operator">></span> <span class="token keyword">where</span> <span class="token class-name">Label</span><span class="token punctuation">:</span> <span class="token class-name">View</span><span class="token punctuation">,</span> <span class="token class-name">Content</span><span class="token punctuation">:</span> <span class="token class-name">View</span></code></pre>
<p>In LVN, when a SwiftUI struct or modifier expects a closure or a content view (like <code>content</code>, <code>label</code>, <code>footer</code>, etc.), we use the <code>template</code> attribute to link a child view to that modifier's parameter.</p>
<p>I further customized the menu by including icons next to each menu item and adding a divider to separate different groups of content. The final component looks like this:</p>
<pre class="language-elixir"><code class="language-elixir">&lt;<span class="token module class-name">Menu</span>>
  <span class="token operator">&lt;</span><span class="token module class-name">HStack</span> template<span class="token operator">=</span><span class="token punctuation">{</span><span class="token atom symbol">:label</span><span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token string">"tint(.black)"</span>>
    <span class="token operator">&lt;</span><span class="token module class-name">Text</span> style<span class="token operator">=</span><span class="token string">"font(.body);"</span>><span class="token module class-name">Following</span>&lt;<span class="token operator">/</span><span class="token module class-name">Text</span>>
    <span class="token operator">&lt;</span><span class="token module class-name">Image</span> systemName<span class="token operator">=</span><span class="token string">"chevron.down.circle.fill"</span> style<span class="token operator">=</span><span class="token string">"padding(.leading, 2);"</span><span class="token operator">/</span>>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token module class-name">HStack</span>>
  <span class="token operator">&lt;</span><span class="token module class-name">Group</span> template<span class="token operator">=</span><span class="token punctuation">{</span><span class="token atom symbol">:content</span><span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token module class-name">Button</span>><span class="token operator">&lt;</span><span class="token module class-name">Label</span> systemImage<span class="token operator">=</span><span class="token string">"house"</span>><span class="token module class-name">Home</span>&lt;<span class="token operator">/</span><span class="token module class-name">Label</span>><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token module class-name">Button</span>>
    <span class="token operator">&lt;</span><span class="token module class-name">Button</span>><span class="token operator">&lt;</span><span class="token module class-name">Label</span> systemImage<span class="token operator">=</span><span class="token string">"eye"</span>><span class="token module class-name">Following</span>&lt;<span class="token operator">/</span><span class="token module class-name">Label</span>><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token module class-name">Button</span>>
    <span class="token operator">&lt;</span><span class="token module class-name">Button</span>><span class="token operator">&lt;</span><span class="token module class-name">Label</span> systemImage<span class="token operator">=</span><span class="token string">"person.2"</span>><span class="token module class-name">Local</span>&lt;<span class="token operator">/</span><span class="token module class-name">Label</span>><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token module class-name">Button</span>>
    <span class="token operator">&lt;</span><span class="token module class-name">Button</span>><span class="token operator">&lt;</span><span class="token module class-name">Label</span> systemImage<span class="token operator">=</span><span class="token string">"globe"</span>><span class="token module class-name">Remote</span>&lt;<span class="token operator">/</span><span class="token module class-name">Label</span>><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token module class-name">Button</span>>
    <span class="token operator">&lt;</span><span class="token module class-name">Divider</span><span class="token operator">/</span>>
    <span class="token operator">&lt;</span><span class="token module class-name">Button</span> phx<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">"show_filters"</span>><span class="token operator">&lt;</span><span class="token module class-name">Label</span> systemImage<span class="token operator">=</span><span class="token string">"line.3.horizontal.decrease.circle"</span>><span class="token module class-name">Filters</span>&lt;<span class="token operator">/</span><span class="token module class-name">Label</span>><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token module class-name">Button</span>>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token module class-name">Group</span>>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token module class-name">Menu</span>></code></pre>
<hr>
<h3 id="modal-%2F-sheet">Modal / Sheet <a class="direct-link" href="#modal-%2F-sheet">#</a></h3>
<p>LiveView Native includes a default modal among other components in the <code>core_components</code> file. It is a simple <code>VStack</code> with a <code>sheet</code> modifier. The <code>sheet</code> modifier accepts an <code>isPresented</code> value to toggle visibility, a <code>:content</code> view, and an <code>onDismiss</code> callback. The code looks like this:</p>
<pre class="language-elixir"><code class="language-elixir"><span class="token keyword">def</span> <span class="token function">modal</span><span class="token punctuation">(</span>assigns<span class="token punctuation">)</span> <span class="token keyword">do</span>
  ~<span class="token module class-name">LVN</span><span class="token string">"""
  &lt;VStack
    id={@id}
    :if={@show}
    style='sheet(isPresented: attr("presented"), content: :content)'
    presented={@show}
    phx-change={@on_cancel}
  >
    &lt;VStack template="content">
      &lt;%= render_slot(@inner_block) %>
    &lt;/VStack>
  &lt;/VStack>
  """</span>
<span class="token keyword">end</span></code></pre>
<hr>
<h3 id="customizing-the-modal">Customizing the Modal <a class="direct-link" href="#customizing-the-modal">#</a></h3>
<p>I wanted to further refine the modal by tweaking its size, including a drag indicator, and changing the background.<br>
Specifically, I wanted to:</p>
<ul>
<li>Make the modal initially occupy half the size of the screen.</li>
<li>Include a drag indicator.</li>
<li>Allow it to expand or dismiss completely.</li>
<li>Replace the default background color with a translucent one.</li>
</ul>
<p>The final result looks like this:</p>
<p><img src="/img/sheet.png" alt="Modal Screenshot"></p>
<p><em>(It's not easy to notice the translucent effect due to the flat background color behind the modal.)</em></p>
<p>To achieve this result, I included a few custom classes in the <code>VStack</code>'s <code>:content</code> template.</p>
<blockquote>
<p><strong>Note:</strong> It took me some time, along with assistance from the LVN team, to realize that the classes should be applied not to the main sheet component, but to the child VStack with the :content template. This is a key detail from the <a href="https://developer.apple.com/documentation/swiftui/view/presentationdetents(_:)">SwiftUI API</a>.</p>
</blockquote>
<pre class="language-elixir"><code class="language-elixir">&lt;<span class="token module class-name">VStack</span> class<span class="token operator">=</span><span class="token string">"detents:medium:large ultrathinmaterial dragindicator:visible"</span> template<span class="token operator">=</span><span class="token punctuation">{</span><span class="token atom symbol">:content</span><span class="token punctuation">}</span><span class="token operator">></span></code></pre>
<p><strong>Classes</strong> are an alternative way to add modifiers. They can combine multiple modifiers to create easy-to-use and standard components, and they can be chained together—much like Tailwind CSS.</p>
<hr>
<h4 id="defining-custom-classes">Defining Custom Classes <a class="direct-link" href="#defining-custom-classes">#</a></h4>
<p>In my <code>app.swiftui.ex</code> file, I've defined the classes used above:</p>
<pre class="language-elixir"><code class="language-elixir">
~<span class="token module class-name">SHEET</span><span class="token string">"""
"dragindicator:" &lt;> do
  presentationDragIndicator(.{props})
end

"ultrathinmaterial" do
  presentationBackground(.ultraThinMaterial)
end
"""</span>

<span class="token keyword">def</span> <span class="token function">class</span><span class="token punctuation">(</span><span class="token string">"detents:"</span> <span class="token operator">&lt;></span> props<span class="token punctuation">)</span> <span class="token keyword">do</span>
  <span class="token punctuation">[</span>start<span class="token punctuation">,</span> <span class="token keyword">end</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token module class-name">String</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> <span class="token string">":"</span><span class="token punctuation">)</span>
  ~<span class="token module class-name">RULES</span><span class="token string">"""
    presentationDetents([.{start}, .{end}])
  """</span>
<span class="token keyword">end</span>
</code></pre>
<hr>
<p>And that's it!</p>
<hr>
<h3 id="what's-next%3F">What's Next? <a class="direct-link" href="#what's-next%3F">#</a></h3>
<p>In the next entry, we will start defining the views for the main pages outlined in our mockups, build the main components for each of them, and navigate between pages using the <code>TabView</code> component and links.</p>
<p><strong>Stay tuned!</strong></p>

    
  </article>

     <div class="mt-10 mb-8 text-sm text-base text-base-content/80">
        <span>Published Thu Oct 03 2024 00:00:00 GMT+0000 (Coordinated Universal Time)</span>
      </div>
     
    
</div>

  <div class="mx-4 mt-8 lg:mx-auto">
    
  

  <div class="my-24 mx-auto max-w-screen-lg w-full shadow-lg flex rounded-lg bg-gradient-to-t from-base-content/5 to-base-content/40 p-[0.075rem]">
      <div class="border-b rounded-lg flex-1 flex items-center text-center gap-2 flex-col h-full border-base-content/20 bg-base-100 p-4">

        <div class="flex flex-col items-center gap-8 p-6  rounded-xl place-content-center">
          <div class="flex flex-col gap-6 mx-4 lg:mx-auto">
            <p class="text-lg font-bold tracking-tight text-base-content sm:block sm:text-4xl">Sign up to our newsletter for more stories</p>
            <div class="text-base text-base-content/80">Your data is private and we will use it only for the purposes of contacting you about Bonfire.
              <br/>You may unsubscribe at any time.
            </div>
          </div>

            <div class="flex-1 w-full" id="mc_embed_signup mt-6">
              <form action="https://bonfirenetworks.us14.list-manage.com/subscribe/post?u=d878a2618cbfbfec0b70c675a&amp;id=101bb5044b" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
              <div class="flex items-center gap-3 place-content-center" id="mc_embed_signup_scroll">
                <div class="col-span-2 mc-field-group">
                  <input type="email" value="" name="EMAIL" placeholder="Enter your email" class="w-full md:w-[360px] required email input input-bordered" id="mce-EMAIL">
                </div>
                <div id="mce-responses" class="mt-3 clear foot">
                  <div class="response" id="mce-error-response" style="display:none"></div>
                  <div class="response" id="mce-success-response" style="display:none"></div>
                </div>   
                  <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_d878a2618cbfbfec0b70c675a_101bb5044b" tabindex="-1" value=""></div>
                  <div class="optionalParent">
                      <div class="clear foot">
                          <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="normal-case btn btn-primary">
                          <p class="sr-only brandingLogo"><a href="http://eepurl.com/h4IZrH" title="Mailchimp - email marketing made easy and fun"><img src="https://eep.io/mc-cdn-images/template_images/branding_logo_text_dark_dtp.svg"></a></p>
                      </div>
                  </div>
                </div>
              </form>
              </div>
      </div>
      </div>
    </div>
    </div>

  


  <div class="border-base-content/10 bg-base-200 border-t">
 

  <div class="flex px-8 py-4 mx-auto justify-between items-center">
    <div class="flex items-start gap-4 flex-row lg:flex-col">
      <div class="flex items-center gap-2 flex-1 ">
        <span class="block bg-center bg-no-repeat bg-cover" style="width: 30px; height: 40px; background-image: url(/img/bonfire.png)"></span>
        <p class="font-bold">Bonfire Networks</p>
      </div> 
    </div> 
    <a class="github-button" href="https://github.com/bonfire-networks/bonfire-app" data-color-scheme="no-preference: dark_dimmed; light: light; dark: dark;" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star bonfire-networks/bonfire-app on GitHub">Star</a>
  </div>
  <footer class="px-8  justify-between border-t border-base-content/10 px-4 lg:mx-auto  py-8  footer text-base-content">
  <div>
    <span class="font-semibold !capitalize !text-base-content">Ecosystem</span> 
    <a href="/apps" class="link link-hover text-base-content/70">Apps</a> 
    <a href="/roadmap" class="link link-hover text-base-content/70">Extensions</a> 
    <a href="/themes" target="_blank" class="link link-hover text-base-content/70">Themes</a>
  </div> 
  <div>
    <span class="font-semibold !capitalize !text-base-content">Learn</span> 
    <a href="https://docs.bonfirenetworks.org/" target="_blank" class="link link-hover text-base-content/70">Documentation</a> 
    
    <a href="/faq" class="link link-hover text-base-content/70">FAQs</a> 
  </div> 
  <div>
    <span class="font-semibold !capitalize !text-base-content">Apps</span> 
    <a href="/start" class="link link-hover text-base-content/70">Get started</a> 
    <a href="/hosting" class="link link-hover text-base-content/70">Hosting</a> 
    <a href="https://campground.bonfire.cafe" target="_blank" class="link link-hover text-base-content/70">Demo instance</a> 
  </div> 
  <div>
    <span class="font-semibold !capitalize !text-base-content">More</span> 
    <a href="/community" class="link link-hover text-base-content/70">Participate</a> 
    <a href="/conduct" class="link link-hover text-base-content/70">Code of conduct</a> 
    <a class="link link-hover text-base-content/70" href="/contact/">Contact</a>
    <a href="/presskit" class="link link-hover text-base-content/70">Presskit</a>

  </div>
</footer>
<div class="flex px-8 border-y border-base-content/10 mx-auto  items-center justify-center py-[4vmin]">
  <div class="flex items-center place-items-center">
    <div class="flex items-center gap-3">
      <p class="text-base-content/70">Supported by</p>
      <a class="ml-4" href="https://nlnet.nl">
        <img 
          src="/img/b-nlnet.png" 
          alt="NLNet" 
          width="140" 
          loading="lazy"
          class="light-img"
        >
        <img 
          src="/img/w-nlnet.png" 
          alt="NLNet" 
          width="140" 
          loading="lazy"
          class="dark-img hidden"
        >
      </a>
    </div>
  </div>
</div>
<div class="flex px-8  mx-auto  flex-col sm:flex-row items-center justify-center sm:justify-between py-[4vmin]">
  <div class="flex items-center">
    <a class="mr-12" href="https://opencollective.com/bonfire-networks"><img src="/img/oc.svg" alt="Open Collective account" width="34" height="34" loading="lazy"></a>
    <a class="mr-12" href="https://github.com/bonfire-networks" target="_blank" rel="noopener noreferrer"><img src="/img/opensource.svg" alt="Open Source" width="89" height="34" loading="lazy"></a>
  </div>
    <nav class="hidden md:flex items-center text-sm">
      
      
      <a class="inline-block pl-2 hover:text-white" href="/">Bonfire Networks 2024</a>
    </nav>
  </div>
</div>

<script async defer>

  document.addEventListener('DOMContentLoaded', function() {
  const lightImg = document.querySelector('.light-img');
  const darkImg = document.querySelector('.dark-img');

  function updateImage() {
    const theme = document.body.getAttribute('data-theme');
    if (theme === 'light') {
      lightImg.classList.remove('hidden');
      darkImg.classList.add('hidden');
    } else {
      lightImg.classList.add('hidden');
      darkImg.classList.remove('hidden');
    }
  }

  // Initial call
  updateImage();

  // Set up a MutationObserver to watch for changes to the data-theme attribute
  const observer = new MutationObserver(updateImage);
  observer.observe(document.body, { attributes: true, attributeFilter: ['data-theme'] });
});

</script>
    <!-- Current page: /posts/prototyping-our-first-native-components-with-liveview-native/ -->
  </body>
</html>
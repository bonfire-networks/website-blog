<script src="https://unpkg.com/smoothscroll-polyfill@0.4.4/dist/smoothscroll.js"></script>

<div class="section--bg border-t border-b border-base-content/10 mt-32 pb-40">
  <div class="skew-y-2">
    <div class="max-w-screen-lg mx-4 2xl:max-w-screen-xl lg:mx-auto mt-16 lg:mt-32">
      <div class="relative flex flex-col text-center items-center grid-cols-1 gap-4 place-content-center">
        <div class="text-[32px] font-extrabold leading-[1.3] tracking-wider text-base-content">What our community is saying</div>
        <div class="flex items-center gap-3 mt-3">
          <a href="https://indieweb.social/@bonfire" target="_blank" class="btn normal-case btn-outline btn-sm rounded">Follow on the fediverse</a>
          <a href="https://matrix.to/#/%23bonfire-networks:matrix.org" target="_blank" class="btn normal-case btn-sm rounded">Join our Matrix chat</a>
        </div>
      </div>
    </div>
    <div class="max-w-screen-lg mx-4 2xl:max-w-screen-xl lg:mx-auto mt-16 lg:mt-24">

  <div
    x-data="{
        skip: 3,
        atBeginning: false,
        atEnd: false,
        next() {
            this.to((current, offset) => current + (offset * this.skip))
        },
        prev() {
            this.to((current, offset) => current - (offset * this.skip))
        },
        to(strategy) {
            let slider = this.$refs.slider
            let current = slider.scrollLeft
            let offset = slider.firstElementChild.getBoundingClientRect().width
            slider.scrollTo({ left: strategy(current, offset), behavior: 'smooth' })
        },
        focusableWhenVisible: {
            'x-intersect:enter'() {
                this.$el.removeAttribute('tabindex')
            },
            'x-intersect:leave'() {
                this.$el.setAttribute('tabindex', '-1')
            },
        },
        disableNextAndPreviousButtons: {
            'x-intersect:enter.threshold.05'() {
                let slideEls = this.$el.parentElement.children
 
                // If this is the first slide.
                if (slideEls[0] === this.$el) {
                    this.atBeginning = true
                // If this is the last slide.
                } else if (slideEls[slideEls.length-1] === this.$el) {
                    this.atEnd = true
                }
            },
            'x-intersect:leave.threshold.05'() {
                let slideEls = this.$el.parentElement.children
 
                // If this is the first slide.
                if (slideEls[0] === this.$el) {
                    this.atBeginning = false
                // If this is the last slide.
                } else if (slideEls[slideEls.length-1] === this.$el) {
                    this.atEnd = false
                }
            },
        },
    }"
    class="flex w-full flex-col items-start"
>
    <div
        x-on:keydown.right="next"
        x-on:keydown.left="prev"
        tabindex="0"
        role="region"
        aria-labelledby="carousel-label"
        class="flex space-x-6"
    >
        <h2 id="carousel-label" class="sr-only" hidden>Carousel</h2>
 
        <!-- Prev Button -->
        <button
            x-on:click="prev"
            class="text-6xl"
            :aria-disabled="atBeginning"
            :tabindex="atEnd ? -1 : 0"
            :class="{ 'opacity-50 cursor-not-allowed': atBeginning }"
        >
            <span aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" /></svg>
            </span>
            <span class="sr-only">Skip to previous slide page</span>
        </button>
 
        <span id="carousel-content-label" class="sr-only" hidden>Carousel</span>
 
        <ul
            x-ref="slider"
            tabindex="0"
            role="listbox"
            aria-labelledby="carousel-content-label"
            class="flex w-full px-4 snap-x snap-mandatory items-start overflow-x-scroll"
        >
            <li x-bind="disableNextAndPreviousButtons" class="flex w-full md:w-1/2 lg:w-1/3 shrink-0 snap-start flex-col items-center justify-center p-2" role="option">
              <div class="bg-[#282736] break-inside-avoid rounded-2xl p-6">
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-base-100 rounded-full">
                    <img src="./img/lynn.png" class="rounded-full w-full h-full object-cover">
                  </div>
                  <div class="flex flex-col">
                    <a href="https://social.coop/@lynnfoster" target="_blank" class="link link-hover text-base-content font-bold">Lynn Foster</a>
                    <div class="text-base-content/80 font-light text-sm">lynnfoster@social.coop</div>
                  </div>
                </div>
                <div class="text-base-content/60 text-base mt-4">The most exciting thing about Bonfire to me is that they have set the stage to add all kinds of features integrated with the social networking core.  Circles and groups to start, offers/wants... some day whole social/economic networks and ecosystems.  Looking into the campfire, I can see a bright future for the fediverse.</div>
              </div>
            </li>

            <li x-bind="disableNextAndPreviousButtons" class="flex w-full md:w-1/2 lg:w-1/3 shrink-0 snap-start flex-col items-center justify-center p-2" role="option">
              <div class="bg-[#282736] break-inside-avoid rounded-2xl p-6">
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-base-100 rounded-full">
                    <img src="./img/jorge.jpeg" class="rounded-full w-full h-full object-cover">
                  </div>
                  <div class="flex flex-col">
                    <a href="https://red.niboe.info/@jorge" target="_blank" class="link link-hover text-base-content font-bold">Jorge Saturno</a>
                    <div class="text-base-content/80 font-light text-sm">jorge@red.niboe.info</div>
                  </div>
                </div>
                <div class="text-base-content/60 text-base mt-4">Bonfire has the potential to bring federated social media to a new level. Its modular design will facilitate the creation of applications for all kind of purposes. We believe Bonfire will become the backbone of our future developments in the fields of open knowledge and science communication.</div>
              </div>
            </li>

            <li x-bind="disableNextAndPreviousButtons" class="flex w-full md:w-1/2 lg:w-1/3 shrink-0 snap-start flex-col items-center justify-center p-2" role="option">
              <div class="bg-[#282736] break-inside-avoid rounded-2xl p-6">
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-base-100 rounded-full">
                    <img src="./img/bob.jpeg" class="rounded-full w-full h-full object-cover">
                  </div>
                  <div class="flex flex-col">
                    <a href="https://social.coop/@bhaugen" target="_blank" class="link link-hover text-base-content font-bold">Bob Haugen</a>
                    <div class="text-base-content/80 font-light text-sm">bhaugen@social.coop</div>
                  </div>
                </div>
                <div class="text-base-content/60 text-base mt-4">While I like Bonfire already, and love their care at making everything work smoothly, I am most excited by their future plans. I am working on community economic systems where the future Bonfire could be the main coordination medium.</div>
              </div>
            </li>

            {# <li x-bind="disableNextAndPreviousButtons" class="flex w-full md:w-1/2 lg:w-1/3 shrink-0 snap-start flex-col items-center justify-center p-2" role="option">
            </li> #}
 
            
        </ul>
 
        <!-- Next Button -->
        <button
            x-on:click="next"
            class="text-6xl"
            :aria-disabled="atEnd"
            :tabindex="atEnd ? -1 : 0"
            :class="{ 'opacity-50 cursor-not-allowed': atEnd }"
        >
            <span aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg>
            </span>
            <span class="sr-only">Skip to next slide page</span>
        </button>
    </div>
</div>  
</div>
  </div>
</div>